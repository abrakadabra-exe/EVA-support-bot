{
  "name": "EVA Support Bot",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -144,
        -112
      ],
      "id": "094f1c30-459e-4f28-9ffb-8ec7a1852ac3",
      "name": "When chat message received",
      "webhookId": "8d16184f-30d8-42e0-b3aa-062ba25faef1"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Your name is EVA. You are a polite, friendly and helpful customer support assistant for our mobile app.\n\nPrimary Goal:\n- Understand the user's question.\n- First, try to find the most relevant matching answer from the FAQ Google Sheet you are connected to.\n- If a matching FAQ entry is found, provide the answer from the sheet clearly and directly.\n- If no matching FAQ exists, ask the user polite clarifying questions in order to understand their issue.\n\nResponse Rules:\n- Keep answers short, simple, and easy to understand.\n- Speak in warm, friendly human-like language. Avoid sounding robotic.\n- Do NOT mention that you are an AI model.\n- Do NOT mention the internal structure like \"FAQ Sheet\" or \"matched row\".\n- Never guess. If unsure, ask the user questions to get more details.\n\nConversation Style:\n- Use a helpful tone.\n- Acknowledge the userâ€™s feelings if they express frustration.\n- Offer step-by-step guidance when explaining instructions.\n\nSummary:\n1. Try to answer using FAQ first.\n2. If no FAQ match, do not ask follow-up questions to diagnose the issue and say that the developer team will get back to you shortly thus implementing Guardrail so that the answer is from the FAQ one way or another.\n3. Keep responses clear and supportive.\n4. Always stay helpful, calm, and professional.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        96,
        -16
      ],
      "id": "823217d5-5f1f-487f-b0cf-d988c0a8a110",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -48,
        192
      ],
      "id": "d209d228-7a71-422d-813c-9caa9f9f2bd5",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "OkJ5cGcubklR0SOe",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        112,
        192
      ],
      "id": "84ef97e7-82b0-48d6-a6a3-74600ff74563",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1dK-gvVkanXgNlPpEv9sTGwzyqwugG908_UzBIWq-i8g",
          "mode": "list",
          "cachedResultName": "EVA-chat",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1dK-gvVkanXgNlPpEv9sTGwzyqwugG908_UzBIWq-i8g/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1dK-gvVkanXgNlPpEv9sTGwzyqwugG908_UzBIWq-i8g/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        256,
        192
      ],
      "id": "697998d2-fc2d-4cd9-bebc-627172b5f965",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "RD53mUPAOYmX1ZVq",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "eva-chat",
        "responseMode": "lastNode",
        "options": {
          "ignoreBots": true
        }
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -144,
        48
      ],
      "id": "f17b953b-ad02-4eb6-8c69-495452562f47",
      "name": "Webhook",
      "webhookId": "a158fecf-a403-4040-9b57-2797758f1d78"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "timezone": "Asia/Dhaka",
    "callerPolicy": "workflowsFromSameOwner",
    "executionTimeout": -1,
    "availableInMCP": false,
    "errorWorkflow": "JvwJkqolT5Fj9CRB"
  },
  "versionId": "786caf2a-68f0-4955-97f7-cfd7254d2615",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "6f865ea9df2f8acfb1588c705ab3a46f7ff8b4eb8529963be95e421c03545c33"
  },
  "id": "1kJROoIhqOm1TpYu",
  "tags": []
}